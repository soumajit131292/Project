package com.bridgelabz.programming.oops.jsoninventory;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.ObjectMapper;

public class Jsonfilecreation {

	ObjectMapper mapper = new ObjectMapper();
	Inventory inventory = new Inventory();

	public void writeJsonData(List<Inventory> array) throws Exception {

		mapper.writeValue(new File(
				"/home/soumajit/Desktop/pendrive/workspace/BridgeLabz/src/com/bridgelabz/programming/oops/jsoninventory/jack.json"),
				array);

	}

	public void readJsonData() throws Exception {
		ArrayList<Inventory> inventory = mapper.readValue(new File(
				"/home/soumajit/Desktop/pendrive/workspace/BridgeLabz/src/com/bridgelabz/programming/oops/jsoninventory/jack.json"),
				new TypeReference<List<Inventory>>() {
				});
		double totalvalue=0;
		for (Inventory i : inventory) {
			System.out.println(i.getName() + "  " + i.getPrice());
 totalvalue=i.getWeight()*i.getPrice()+totalvalue;
		}
		System.out.println("total price is "+totalvalue);
	}

}
